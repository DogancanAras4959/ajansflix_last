@using ajansflix.SERVICES.Dtos.ProductsData
@using ajansflix.SERVICES.Dtos.CategoryData

@{
    List<ProductDto> products = ViewBag.Products as List<ProductDto>;
    List<CategoryDto> categoryList = ViewBag.CategoryList as List<CategoryDto>;
}

<style>
    .title-rotated {
        position: relative;
        top: 38px;
        z-index: 800;
        left: 15px;
        font-size: 19px;
        font-weight: 800;
        font-family: 'MadeTommy Bold';
    }

    .title-home {
        border-radius: 0 !important;
        rotate: -4deg;
        height: 45px !important;
        width: 215px !important;
        background: #ffed00;
        margin-bottom: 45px;
        color: #000 !important;
    }

    .head-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
    }

    .feature-inside .feature-block {
        width: 100%;
        padding: 0 25px;
        border-right: 1px solid rgb(0 0 0 / 30%);
    }

    .content-slider {
        display: flex;
        justify-content: space-evenly;
        flex-wrap: nowrap;
        align-items: center;
        flex-direction: row;
        width: 945px;
        position: relative;
        left: 50%;
        top: 165px;
        right: 50%;
        transform: translate(-50%, -50%);
    }

    .content-slider-prg {
        padding: 0 25px 0 45px;
    }
</style>

<link rel="stylesheet" type="text/css" href="~/css/slick.css">
<link rel="stylesheet" type="text/css" href="~/css/slick-theme.css">

@foreach (var item in categoryList.Where(x => x.IsActive == true))
{

    <div class="container container-240" style=" padding-top: 10px; padding-bottom: 0px;">
        <div class="head-title">
            <div class="title-ecome">
                <span class="title-rotated">@item.CategoryDescription</span>
                <div class="title-icon e-gradient title-home">
                </div>
            </div>
            <a class="btn btn-navigate" style="border:1px solid #000;" href="/hizmetler?id=@item.Id">Tümünü Gör</a>
        </div>
        <div class="e-product">
            <div class="product-collection-grid product-grid spc1">
                <div class="row">

                    @foreach (var item2 in products.Where(x => x.CategoryId == item.Id).OrderByDescending(x => x.CreatedTime).Take(4))
                    {
                        <div class="col-xs-6 col-sm-4 col-md-4 col-lg-3 product-item">
                            <div class="pd-bd product-inner">
                                <div class="product-img">
                                    @if (item2.Discount > 0)
                                    {
                                        <div class="ribbon-price red"><span>-@item2.Discount% </span></div>
                                    }
                                    <a href="@Url.Action("detay","hizmet", new { Id = item2.Id, productname = item2.GenerateSlug() })">
                                        <img src="@item2.ImagePath" alt="@item2.ProductMetaName" loading="lazy" title="@item2.ProductMetaName" class="img-reponsive" id="image_@item2.Id">
                                    </a>
                                </div>
                                <div class="product-info" style="margin-top: 20px;">
                                    <div class="element-list element-list-middle">
                                        <h3 class="product-title"><a href="@Url.Action("detay","hizmet", new { Id = item2.Id, productname = item2.GenerateSlug() })" id="itemName_@item2.Id">@item2.ProductName</a></h3>
                                        <div class="product-bottom">

                                            <div class="product-price" style="display: flex; flex-direction: column; align-items: flex-start;">
                                                @if (item2.Discount > 0)
                                                {
                                                    decimal ilkfiyat = item2.Price;
                                                    decimal indirimOrani = item2.Discount;
                                                    decimal indirimli_fiyat = ilkfiyat - (ilkfiyat * (indirimOrani / 100));

                                                    <span style="font-weight: 800; color:#000;" class="red" id="basePrice_@item2.Id">@Convert.ToInt32(indirimli_fiyat) TL <span style="font-weight:800; font-size:17px;">+KDV</span> </span>
                                                    <span class="old" style="font-weight:500; font-size:17px; margin-left:0; text-decoration:line-through">@Convert.ToInt32(item2.Price) TL</span>}
                                                else if (item2.Discount == 0)
                                                {
                                                    <span style="font-weight:800;" id="basePrice_@item2.Id">@Convert.ToInt32(item2.Price) TL</span>
                                                    <span style="font-size: 14px; font-weight: 300;"> +KDV</span>}
                                                else
                                                {

                                                }
                                            </div>
                                            <a href="@Url.Action("detay","hizmet", new { Id = item2.Id, productname = item2.GenerateSlug() })" class="btn-icon btn-view">
                                                <span class="icon-bg icon-view"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }

                </div>
            </div>
        </div>
    </div>

}

<div class="container container-240">
    <div class="brand">
        <div class="ecome-heading style2 spc4" style="margin-bottom:30px;">
            <div class="title-icon t-inline t-line">
                <h1>Referanslar</h1>
            </div>
        </div>
        <div class="brand-slick">
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand.png" alt="brand_1" title="brand_1" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_2.png" alt="brand_2" title="brand_2" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_3.png" alt="brand_3" title="brand_3" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_4.png" alt="brand_4" title="brand_4" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_5.png" alt="brand_5" title="brand_5" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_7.png" alt="brand_6" title="brand_6" loading="lazy"></a>
                </div>
            </div>
            <div>
                <div class="brand-item">
                    <a href="#" class="hover-images"><img src="~/img/brand/brand_8.png" alt="brand_7" title="brand_7" loading="lazy"></a>
                </div>
            </div>

        </div>
    </div>
</div>

<div class="feature" style="background: #ffed00;">
    <div class="container container-240">
        <div class="feature-inside">
            <div class="feature-block text-center">
                <div class="feature-block-img"><img src="~/img/feature/b_truck.png" alt="b_truck" loading="lazy" class="img-reponsive"></div>
                <div class="feature-info" style="color:#000;">
                    <h3>Worldwide Delivery</h3>
                    <p>With sites in 5 languages, we ship to over 200 countries &amp; regions.</p>
                </div>
            </div>
            <div class="feature-block text-center">
                <div class="feature-block-img"><img src="~/img/feature/b_credit.png" alt="b_credit" title="b_credit" loading="lazy" class="img-reponsive"></div>
                <div class="feature-info" style="color:#000;">
                    <h3>Safe Payment</h3>
                    <p>Pay with the world’s most popular and secure payment methods.</p>
                </div>
            </div>
            <div class="feature-block text-center">
                <div class="feature-block-img"><img src="~/img/feature/b_truck.png" alt="b_truck" title="b_truck" loading="lazy" class="img-reponsive"></div>
                <div class="feature-info" style="color:#000;">
                    <h3>Shop with Confidence</h3>
                    <p>Our Buyer Protection covers your purchase from click to delivery.</p>
                </div>
            </div>
            <div class="feature-block text-center">
                <div class="feature-block-img"><img src="~/img/feature/b-tele.png" alt="b-tele" title="b-tele" loading="lazy" class="img-reponsive"></div>
                <div class="feature-info" style="color:#000;">
                    <h3>24/7 Help Center</h3>
                    <p>Round-the-clock assistance for a smooth shopping experience.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="slide-fullw" style="width: 85%; margin: 20px auto; display: block;">
    <div class="js-slider-home2">
        <div class="e-slide-img">
            <div class="content-slider">
                <img src="~/img/megamenu-img.png"
                     style="width: 35%; position: relative; padding: 25px 0 0 0px;" loading="lazy" alt="banner-reklamlutfen" title="banner-reklamlutfen" class="mobile-slider-h">
                <div class="content-slider-prg">
                    <h3 style="margin-bottom: 10px; font-size: 25px; font-weight: 600;">Lorem ipsum dolor sit amet consectetur adipisicing elit</h3>
                    <p style="line-height:19px;">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                        molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                        numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                        optio, eaque rerum! Provident similique accusantium nemo autem.
                    </p>
                    <a href="#" class="btn btn-navigate" style="border: 1px solid #000; margin-top: 15px;">Yazıyı Oku</a>

                </div>
            </div>
        </div>
        <div class="e-slide-img">
            <div class="content-slider">
                <img src="~/img/megamenu-img.png"
                     style="width: 35%; position: relative; padding: 25px 0 0 0px;" loading="lazy" alt="banner-reklamlutfen" title="banner-reklamlutfen" class="mobile-slider-h">
                <div class="content-slider-prg">
                    <h3 style="margin-bottom: 10px; font-size: 25px; font-weight: 600;">Lorem ipsum dolor sit amet consectetur adipisicing elit</h3>
                    <p style="line-height:19px;">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                        molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                        numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                        optio, eaque rerum! Provident similique accusantium nemo autem.
                    </p>
                    <a href="#" class="btn btn-navigate" style="border: 1px solid #000; margin-top: 15px;">Yazıyı Oku</a>

                </div>
            </div>
        </div>
        <div class="e-slide-img">
            <div class="content-slider">
                <img src="~/img/megamenu-img.png"
                     style="width: 35%; position: relative; padding: 25px 0 0 0px;" loading="lazy" alt="banner-reklamlutfen" title="banner-reklamlutfen" class="mobile-slider-h">
                <div class="content-slider-prg">
                    <h3 style="margin-bottom: 10px; font-size: 25px; font-weight: 600;">Lorem ipsum dolor sit amet consectetur adipisicing elit</h3>
                    <p style="line-height:19px;">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                        molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                        numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                        optio, eaque rerum! Provident similique accusantium nemo autem.
                    </p>
                    <a href="#" class="btn btn-navigate" style="border: 1px solid #000; margin-top: 15px;">Yazıyı Oku</a>

                </div>
            </div>
        </div>
        <div class="e-slide-img">
            <div class="content-slider">
                <img src="~/img/megamenu-img.png"
                     style="width: 35%; position: relative; padding: 25px 0 0 0px;" loading="lazy" alt="banner-reklamlutfen" title="banner-reklamlutfen" class="mobile-slider-h">
                <div class="content-slider-prg">
                    <h3 style="margin-bottom: 10px; font-size: 25px; font-weight: 600;">Lorem ipsum dolor sit amet consectetur adipisicing elit</h3>
                    <p style="line-height:19px;">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                        molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                        numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                        optio, eaque rerum! Provident similique accusantium nemo autem.
                    </p>
                    <a href="#" class="btn btn-navigate" style="border:1px solid #000; margin-top:15px;">Yazıyı Oku</a>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="feature" style="background: #f0f0f4; width: 100%; margin: 0px auto; padding: 30px;">
    <div class="container container-240">
        <div class="feature-inside" style="width: 84%; height: 95px; flex-wrap: wrap; overflow-y: scroll; margin: 0 auto; ">
            <h3 style="margin-bottom: 10px; font-size: 27px; font-weight: 600;">Lorem ipsum dolor sit amet consectetur adipisicing elit</h3>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis
                obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam
                nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,
                tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,
                quia. Quo neque error repudiandae fuga? Ipsa laudantium molestias eos
                sapiente officiis modi at sunt excepturi expedita sint? Sed quibusdam
                recusandae alias error harum maxime adipisci amet laborum. Perspiciatis
                minima nesciunt dolorem! Officiis iure rerum voluptates a cumque velit
                quibusdam sed amet tempora. Sit laborum ab, eius fugit doloribus tenetur
                fugiat, temporibus enim commodi iusto libero magni deleniti quod quam
                consequuntur! Commodi minima excepturi repudiandae velit hic maxime
                doloremque. Quaerat provident commodi consectetur veniam similique ad
                earum omnis ipsum saepe, voluptas, hic voluptates pariatur est explicabo
                fugiat, dolorum eligendi quam cupiditate excepturi mollitia maiores labore
                suscipit quas? Nulla, placeat. Voluptatem quaerat non architecto ab laudantium
                modi minima sunt esse temporibus sint culpa, recusandae aliquam numquam
                totam ratione voluptas quod exercitationem fuga. Possimus quis earum veniam
                quasi aliquam eligendi, placeat qui corporis!
            </p>
        </div>
    </div>
</div>

<script src="~/js/jquery.js"></script>
<script src="~/js/slick.js"></script>

<script>
    $('.brand-slick').slick({
        dots: false,
        infinite: false,
        speed: 300,
        slidesToShow: 7,
        slidesToScroll: 4,
        responsive: [
            {
                breakpoint: 1024,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3,
                    infinite: true,
                    dots: false
                }
            },
            {
                breakpoint: 600,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                }
            },
            {
                breakpoint: 480,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                }
            }
            // You can unslick at a given breakpoint now by adding:
            // settings: "unslick"
            // instead of a settings object
        ]
    });
</script>
